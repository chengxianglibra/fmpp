plugins {
    id 'java-gradle-plugin'
    id 'com.gradle.plugin-publish' version '1.3.1'
}

group = 'io.github.chengxianglibra'
version = '0.1'

repositories {
    mavenCentral()
    maven { url "https://plugins.gradle.org/m2/" }
}

// Build for compatibility with Java 8
tasks.withType(JavaCompile) {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

// Generate the plugin descriptor and specify the plugin's id
gradlePlugin {
    website = 'https://github.com/chengxianglibra/fmpp'
    vcsUrl = 'https://github.com/chengxianglibra/fmpp'

    plugins {
        fmppPlugin {
            id = 'io.github.chengxianglibra.fmpp'
            implementationClass = 'io.github.chengxianglibra.fmpp.FmppPlugin'
            displayName = 'fmpp plugin'
            description = 'Generate Sql Parser with FreeMarker templates'
            tags.set(['sql parser', 'freemarker', 'fmpp'])
        }
    }
}
